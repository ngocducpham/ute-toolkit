javascript: (() => {async function a(a) { let b = { method: "POST", credentials: "same-origin", headers: { "Content-Type": "application/x-www-form-urlencoded" }, redirect: "error", body: new URLSearchParams({ CurriculumID: a.curriculumID, StudyUnitID: a.studyUnitID, hdID: a.hdID, [a.name]: "on" }) }, c = await fetch("/DangKiNgoaiKeHoach/DanhSachLopHocPhanPost?Length=18", b); return c.text() } async function b(a) { let b = "/DangKiNgoaiKeHoach/DanhSachLopHocPhan/" + a + "?CurriculumID=" + a.slice(3) + "&t=" + Math.random(), c = await fetch(b, { method: "GET", credentials: "same-origin", redirect: "error" }); return c.text() } async function c(a, c) { return await new Promise((e, f) => { if (!localStorage.getItem(c)) b(a).then(a => { e(d(a, c)) }).catch(() => { f() }); else { let a = JSON.parse(localStorage.getItem(c)); e(Object.assign({}, a)) } }) } function d(a, b) { let c, d, e = new DOMParser().parseFromString(a, "text/html"), f = e.querySelector("#StudyUnitID").value, g = e.querySelector("#CurriculumID").value, h = !1, i = [], j = e.querySelectorAll(".trhover"); for (row of j) { if (!0 === h) break; let a = row.querySelectorAll("td"); if (a[2].innerText == b) { row.querySelector(".classCheckChon").disabled ? h = null : (c = row.querySelector(".classCheckChon").id + "|", d = row.querySelector(".classCheckChon").name, h = !0); break } i.push(a[2].innerText) } let k = { found: h, studyUnitID: f, curriculumID: g, hdID: c, name: d, availableCourseCodes: i }; return localStorage.setItem(b, JSON.stringify(k)), k } function e() { let a = new Date, b = a.getUTCFullYear() % 100, c = a.getUTCMonth(); return 2 > c ? --b + "2" : b + "1" } if (!location.href.includes("dkmh.hcmute.edu.vn")) return void console.log("B\u1EA1n h\xE3y \u0111\u0103ng nh\u1EADp v\xE0o trang dkmh.hcmute.edu.vn tr\u01B0\u1EDBc khi ch\u1EA1y script n\xE0y"); if (null == document.querySelector("#id_menu2")) return void console.log("H\xE3y \u0111\u0103ng nh\u1EADp tr\u01B0\u1EDBc khi ch\u1EA1y script"); let f = prompt("Nh\u1EADp m\xE3 l\u1EDBp h\u1ECDc ph\u1EA7n (MaMonHoc_MaLop). N\u1EBFu nh\u1EADp nhi\u1EC1u m\xF4n th\xEC ph\xE2n c\xE1ch nhau b\u1EB1ng kho\u1EA3ng tr\u1EAFng. V\xED d\u1EE5: ADNT330580_01CLC ADPL331379_03CLC"); null == f || "" == f || (f = f.replace(/\s+/g, " ").trim().split(" "), setInterval(() => { for (const b of f) { let d = e() + b.split("_")[0]; c(d, b).then(c => { !1 === c.found ? (prompt("Kh\xF4ng t\xECm th\u1EA5y h\u1ECDc ph\u1EA7n ph\xF9 h\u1EE3p cho m\xE3 m\xF4n h\u1ECDc " + b + "\nDanh s\xE1ch h\u1ECDc ph\u1EA7n c\xF3 s\u1EB5n: ", c.availableCourseCodes), f = f.filter(a => a != b)) : !0 === c.found && (f = f.filter(a => a != b), a(c).then(a => { let c = new DOMParser().parseFromString(a, "text/html"), d = c.querySelector("p").innerText; d && console.log(d + "M\xE3 l\u1EDBp h\u1ECDc ph\u1EA7n: " + b) }).catch(() => { console.log("\u0110\u0103ng k\xED kh\xF4ng th\xE0nh c\xF4ng, vui l\xF2ng \u0111\u0103ng nh\u1EADp l\u1EA1i.\nM\xE3 l\u1EDBp h\u1ECDc ph\u1EA7n: " + b) })) }).catch(() => { console.log("\u0110\u0103ng k\xED kh\xF4ng th\xE0nh c\xF4ng, vui l\xF2ng \u0111\u0103ng nh\u1EADp l\u1EA1i.\nM\xE3 l\u1EDBp h\u1ECDc ph\u1EA7n: " + b) }) } }, 5e3))})();
