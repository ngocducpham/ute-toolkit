# UTE Toolkit
> Script nhỏ hỗ trợ đăng kí môn học nhanh **hơn chút xíu**

## Chuẩn bị
> Ở đây mình hướng dẫn cho trình duyệt Edge. Tuy vậy nhưng các bước cũng rất giống trên các trình duyệt khác

### Tạo Bookmark

Vào bất cứ trang web nào sau đó nhìn lên góc cuối phía bên phải của thanh địa chỉ sẽ thấy hình ngôi sao. Click vào và nhấn `Done`
   
### Chỉnh sửa Bookmark

> Lưu ý: Nếu không thấy dưới thanh địa chỉ có gì mới xuất hiện thì vào `Setting` tìm chỗ `Show favories bar` và chọn `Always`

Sau khi tạo xong bookmark sẽ thấy bên dưới thanh địa chỉ xuất hiện tên và biểu tượng của trang vừa thêm. 
   
Chuột phải vào nó và chọn `Edit`. Lúc này sẽ xuất hiện 1 hộp thoại.

   * Mục `Name` ghi tùy ý

   * Mục `URL` xóa tất cả và pass một trong những đoạn code dưới đây vào và nhấn `Done`

**Code đăng kí học phần**
```javascript
javascript:(()=>{function _0x466a() {const _0x27709e = ['#CurriculumID','3199870lsaHRz','dkmh.hcmute.edu.vn','slice','split','href','.classCheckChon','application/x-www-form-urlencoded','parse','hdID','85972QsFSpT','40320XYwnNn','random','push','#id_menu2','studyUnitID','getItem','51738jdpxUb','H\xE3y \u0111\u0103ng nh\u1EADp tr\u01B0\u1EDBc khi ch\u1EA1y script','931820XiboYp','setItem','85LUwHqR','length','/DangKiNgoaiKeHoach/DanhSachLopHocPhanPost?Length=18','text','parseFromString','POST','21smqwKg','error','value','Nh\u1EADp m\xE3 l\u1EDBp h\u1ECDc ph\u1EA7n (MaMonHoc_MaLop). N\u1EBFu nh\u1EADp nhi\u1EC1u m\xF4n th\xEC ph\xE2n c\xE1ch nhau b\u1EB1ng kho\u1EA3ng tr\u1EAFng. V\xED d\u1EE5: ADNT330580_01CLC ADPL331379_03CLC','querySelectorAll','querySelector','#StudyUnitID','Kh\xF4ng t\xECm th\u1EA5y h\u1ECDc ph\u1EA7n ph\xF9 h\u1EE3p cho m\xE3 m\xF4n h\u1ECDc','same-origin','innerText','16594LfXNIf','8KqZajX','curriculumID','trim','stringify','getUTCMonth','1342503HHUeLM','disabled','replace','u0110\u0103ng k\xED kh\xF4ng th\xE0nh c\xF4ng, vui l\xF2ng \u0111\u0103ng nh\u1EADp l\u1EA1i.\nM\xE3 l\u1EDBp h\u1ECDc ph\u1EA7n:'];_0x466a = function () {return _0x27709e;};return _0x466a();}const _0xf37ab8 = _0x1e87;(function (_0x50ebe3, _0x1311e6) {const _0x4840d2 = _0x1e87,_0x1d7d28 = _0x50ebe3();while (!![]) {try {const _0x40e563 =parseInt(_0x4840d2(0x197)) / 0x1 +(parseInt(_0x4840d2(0x1ab)) / 0x2) * (parseInt(_0x4840d2(0x18d)) / 0x3) +parseInt(_0x4840d2(0x1b4)) / 0x4 +(parseInt(_0x4840d2(0x187)) / 0x5) * (parseInt(_0x4840d2(0x1b2)) / 0x6) +-parseInt(_0x4840d2(0x1ac)) / 0x7 +(parseInt(_0x4840d2(0x198)) / 0x8) * (-parseInt(_0x4840d2(0x19d)) / 0x9) +-parseInt(_0x4840d2(0x1a2)) / 0xa;if (_0x40e563 === _0x1311e6) break;else _0x1d7d28['push'](_0x1d7d28['shift']());} catch (_0x33d4b5) {_0x1d7d28['push'](_0x1d7d28['shift']());}}})(_0x466a, 0x363b0);async function a(_0x504e74) {const _0x59009d = _0x1e87;let _0x376d95 = {method: _0x59009d(0x18c),credentials: _0x59009d(0x195),headers: { 'Content-Type': _0x59009d(0x1a8) },redirect: _0x59009d(0x18e),body: new URLSearchParams({CurriculumID: _0x504e74[_0x59009d(0x199)],StudyUnitID: _0x504e74[_0x59009d(0x1b0)],hdID: _0x504e74[_0x59009d(0x1aa)],[_0x504e74['name']]: 'on'})},_0x2a15d7 = await fetch(_0x59009d(0x189), _0x376d95);return _0x2a15d7[_0x59009d(0x18a)]();}function _0x1e87(_0x57f2b2, _0x27724e) {const _0x466a48 = _0x466a();return ((_0x1e87 = function (_0x1e87a8, _0x2343ae) {_0x1e87a8 = _0x1e87a8 - 0x187;let _0x3ac03c = _0x466a48[_0x1e87a8];return _0x3ac03c;}),_0x1e87(_0x57f2b2, _0x27724e));}async function b(_0x1d4ccb) {const _0x41be8f = _0x1e87;let _0x13d808 ='/DangKiNgoaiKeHoach/DanhSachLopHocPhan/' +_0x1d4ccb +'?CurriculumID=' +_0x1d4ccb['slice'](0x3) +'&t=' +Math[_0x41be8f(0x1ad)](),_0x3158d9 = await fetch(_0x13d808, {method: 'GET',credentials: _0x41be8f(0x195),redirect: _0x41be8f(0x18e)});return _0x3158d9[_0x41be8f(0x18a)]();}function c(_0x1546a0, _0x1cfde9) {return new Promise((_0x38a8bf, _0x3db542) => {const _0x5e3503 = _0x1e87;if (!localStorage[_0x5e3503(0x1b1)](_0x1cfde9))b(_0x1546a0)['then']((_0xeb4a90) => {_0x38a8bf(d(_0xeb4a90, _0x1cfde9));})['catch'](() => {_0x3db542();});else {let _0x4aba1c = JSON[_0x5e3503(0x1a9)](localStorage['getItem'](_0x1cfde9));_0x38a8bf(Object['assign']({}, _0x4aba1c));}});}function d(_0x1cf789, _0x19a617) {const _0x5bea7b = _0x1e87;let _0xdcb43f,_0x1f3b26,_0x55d7e2 = new DOMParser()[_0x5bea7b(0x18b)](_0x1cf789, 'text/html'),_0x532529 = _0x55d7e2['querySelector'](_0x5bea7b(0x193))[_0x5bea7b(0x18f)],_0x7196fb = _0x55d7e2['querySelector'](_0x5bea7b(0x1a1))[_0x5bea7b(0x18f)],_0x28df2c = null,_0x3dce44 = [],_0x435eb2 = _0x55d7e2[_0x5bea7b(0x191)]('.trhover');for (row of _0x435eb2) {if (!0x0 === _0x28df2c) break;let _0x1332b2 = row[_0x5bea7b(0x191)]('td');if (_0x1332b2[0x2]['innerText'] == _0x19a617) {row[_0x5bea7b(0x192)](_0x5bea7b(0x1a7))[_0x5bea7b(0x19e)] ||((_0xdcb43f = row['querySelector'](_0x5bea7b(0x1a7))['id'] + '|'),(_0x1f3b26 = row[_0x5bea7b(0x192)](_0x5bea7b(0x1a7))['name']),(_0x28df2c = !0x0));break;}_0x3dce44[_0x5bea7b(0x1ae)](_0x1332b2[0x2][_0x5bea7b(0x196)]);}let _0x4038e3 = {found: _0x28df2c,studyUnitID: _0x532529,curriculumID: _0x7196fb,hdID: _0xdcb43f,name: _0x1f3b26,availableCourseCodes: _0x3dce44};return localStorage[_0x5bea7b(0x1b5)](_0x19a617, JSON[_0x5bea7b(0x19b)](_0x4038e3)), _0x4038e3;}function e() {const _0x4b1c38 = _0x1e87;let _0xc0870d = new Date(),_0x3779bf = _0xc0870d['getUTCFullYear']() % 0x64,_0x598938 = _0xc0870d[_0x4b1c38(0x19c)]();return 0xa < _0x598938 || 0x3 > _0x598938 ? --_0x3779bf + '2' : _0x3779bf + '1';}if (!location[_0xf37ab8(0x1a6)]['includes'](_0xf37ab8(0x1a3)))return void alert('B\u1EA1n h\xE3y \u0111\u0103ng nh\u1EADp v\xE0o trang dkmh.hcmute.edu.vn tr\u01B0\u1EDBc khi ch\u1EA1y script n\xE0y');if (null == document['querySelector'](_0xf37ab8(0x1af))) return void alert(_0xf37ab8(0x1b3));let f = prompt(_0xf37ab8(0x190));null == f ||'' == f ||((f = f[_0xf37ab8(0x19f)](/\s+/g, '\x20')[_0xf37ab8(0x19a)]()[_0xf37ab8(0x1a5)]('\x20')),(async function (_0x8ae8fe) {const _0x1fd171 = _0xf37ab8;let _0x10c02b,_0x1afdd9 = 0x0;for (; !_0x8ae8fe[_0x1fd171(0x188)]; ) {(courseCode = _0x8ae8fe[_0x1afdd9++ % _0x8ae8fe['length']]),(_0x10c02b = e() + courseCode['split']('_')[0x0]);try {let _0x562eaf = await c(_0x10c02b, courseCode);if (!0x1 === _0x562eaf['found'])prompt(_0x1fd171(0x194) +courseCode +'\x0aDanh\x20sách\x20học\x20phần\x20có\x20sẵn:\x20',dataFromCourse['availableCourseCodes']),_0x8ae8fe[_0x1fd171(0x1a4)](_0x1afdd9, 0x1);else {if (!0x0 === _0x562eaf['found'])try {let _0x9733ee = await a(_0x562eaf),_0x2bc171 = new DOMParser()[_0x1fd171(0x18b)](_0x9733ee,'text/html');alert(_0x2bc171[_0x1fd171(0x192)]('p')[_0x1fd171(0x196)] +'Mã\x20lớp\x20học\x20phần:\x20' +courseCode),_0x8ae8fe[_0x1fd171(0x1a4)](_0x1afdd9, 0x1);} catch (_0x3103eb) {throw _0x3103eb;} finally {}}} catch {alert(_0x1fd171(0x1a0) + courseCode);}}})(f));})();
```

**Code xóa học phần**
```javascript
javascript: (() => {if (!window.location.href.includes("dkmh.hcmute.edu.vn")) return void alert("Bạn hãy đăng nhập vào trang dkmh.hcmute.edu.vn trước khi chạy script này");if (null == document.querySelector("#id_menu2")) return void alert("Hãy đăng nhập trước khi chạy script");let n = prompt("Nhập kì học.\nVí dụ: năm học 2021-2022, kì 2 thì nhập 212");if (null == n || "" == n) return;let h = prompt("Nhập mã môn học. Nếu nhập nhiều môn thì phân cách nhau bằng khoảng trắng. Ví dụ: ADNT330580 ADPL331379");if (null == h || "" == h) return;h = h.replace(/\s+/g, " ").trim().split(" ");for (let e = 0; e < h.length; e++) XoaHocPhan(h[e])})();
```

**Code lấy danh sách học phần đã đăng kí**
```javascript
javascript: (() => {const _0x172c81 = _0x5a6c;(function (_0x3244ea, _0xe3fc6a) {const _0x4fdc22 = _0x5a6c,_0x4bca68 = _0x3244ea();while (!![]) {try {const _0x2ff8fa =parseInt(_0x4fdc22(0xde)) / 0x1 +parseInt(_0x4fdc22(0xe7)) / 0x2 +parseInt(_0x4fdc22(0xe1)) / 0x3 +-parseInt(_0x4fdc22(0xed)) / 0x4 +-parseInt(_0x4fdc22(0xdd)) / 0x5 +parseInt(_0x4fdc22(0xea)) / 0x6 +parseInt(_0x4fdc22(0xf1)) / 0x7;if (_0x2ff8fa === _0xe3fc6a) break;else _0x4bca68['push'](_0x4bca68['shift']());} catch (_0x16e0c2) {_0x4bca68['push'](_0x4bca68['shift']());}}})(_0x3f95, 0x948a1),(getEnrolledCourses()['then']((_0x4024de) => {const _0x520108 = _0x5a6c;let _0x52e127 = new DOMParser()[_0x520108(0xef)](_0x4024de, _0x520108(0xec)),_0x3aa0b7 = _0x52e127['querySelectorAll'](_0x520108(0xe6));_0x3aa0b7[0x0]['style'][_0x520108(0xe5)](_0x520108(0xee), _0x520108(0xe9)),_0x3aa0b7[0x1][_0x520108(0xf0)][_0x520108(0xe5)](_0x520108(0xee), _0x520108(0xe9)),document[_0x520108(0xdc)][_0x520108(0xe2)](_0x520108(0xe0), _0x3aa0b7[0x1]),document[_0x520108(0xdc)][_0x520108(0xe2)](_0x520108(0xe0), _0x3aa0b7[0x0]),scroll({ top: 0x0, behavior: _0x520108(0xda) });})[_0x172c81(0xdf)](() => {const _0x1a3739 = _0x172c81;alert(_0x1a3739(0xe3));}),alert('Nh\u1EA5n OK sau \u0111\xF3 \u0111\u1EE3i m\u1ED9t l\xFAc s\u1EBD c\xF3 k\u1EBFt qu\u1EA3'));function _0x5a6c(_0x31a105, _0x26a965) {const _0x3f9577 = _0x3f95();return ((_0x5a6c = function (_0x5a6c48, _0x1e21c4) {_0x5a6c48 = _0x5a6c48 - 0xda;let _0x56fdc9 = _0x3f9577[_0x5a6c48];return _0x56fdc9;}),_0x5a6c(_0x31a105, _0x26a965));}async function getEnrolledCourses() {const _0x320583 = _0x172c81;let _0x14e001 = await fetch(_0x320583(0xeb), {method: 'GET',credentials: _0x320583(0xe8),redirect: _0x320583(0xdb)});return _0x14e001[_0x320583(0xe4)]();}function _0x3f95() {const _0x13fe8a = ['2446136Fdepdg','smooth','error','body','3258810uUIrdT','1031678TxYkjm','catch','afterbegin','136290FMhRXl','insertAdjacentElement','Kh\xF4ng l\u1EA5y \u0111\u01B0\u1EE3c danh s\xE1ch m\xF4n h\u1ECDc \u0111\xE3 \u0111\u0103ng k\xED , vui l\xF2ng \u0111\u0103ng nh\u1EADp l\u1EA1i.','text','setProperty','table','156034ljzZMX','same-origin','white','5434932hGPrSY','/dangkithanhcong','text/html','4600864mgLGqP','background-color','parseFromString','style'];_0x3f95 = function () {return _0x13fe8a;};return _0x3f95();}})();
```

## Sử dụng

Sau khi hoàn thành các bước trên thì bạn chỉ cần vào `Đăng nhập` vào trang [Đăng Kí Môn Học](https://dkmh.hcmute.edu.vn/) và click vào bookmark bạn vừa thêm sẽ xuất hiện 1 hộp thoại, sau đó nhập thông tin theo hướng dẫn

**Chúc các bạn đăng kí môn học thành công 👍**

## FAQ
<details>
   <summary><b>Tại sao script lại luôn báo đăng kí không thành công?</b> (click to show)</summary>
   
Đây không phải công cụ thần thánh gì, nó chỉ giúp bạn bỏ qua một số bước để giúp cho việc đăng kí trở nên nhanh hơn, phần lớn đều phải phụ thuộc vào trang web trường và tốc độ mạng của bạn.
   
</details>

<details>
   <summary><b>Xài có mất nick facebook, google, v.v.. không??</b> (click to show)</summary>
   
Đương nhiên là không. Do script được viết bằng javascript, mà javascript thì trang nào cũng có. Nếu mà dễ mất nick vậy thì các bạn vào xem phim sẽ gầy chắc có khi mất cả trăm nick rồi.
   
</details>

<details>
   <summary><b>Xài có bị thầy cô phát hiện hay bị khóa đăng kí môn không? </b> (click to show)</summary>
   
Cái này mình không chắc nhưng có thể bị, nếu các bạn spam đăng kí quá nhiều trong một lần đăng nhập thì có thể bị block. Mà chỉ có thể nếu nhà trường có triển khai chức năng phát hiện :))
   
</details>

